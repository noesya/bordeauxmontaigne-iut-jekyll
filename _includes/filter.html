<button class="btn btn-light btn-sm" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasCategories" aria-controls="offcanvasCategories">{{ trad.category.filter }}</button>

<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasCategories" aria-labelledby="offcanvasCategoriesLabel">
  <div class="offcanvas-header">
    <h5 id="offcanvasCategoriesLabel">{{ trad.category.filter }}</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    {{ site.data.categories | inspect }}
    {% assign root_categories = site.data.categories | where: "parent", nil %}
    <ul class="nav flex-column">
      {% for category in root_categories %}
        <li class="nav-item">
          <a href="{{ category.link }}" class="nav-link">{{ category.name }}</a>
          {% assign children_categories = site.data.categories | where: "parent", category.identifier %}
          {% if children_categories.size > 0 %}
          <ul>
          {% for child in children_categories %}
            <li class="nav-item">
              <a href="{{ child.link }}" class="nav-link">{{ child.name }}</a>
            </li>
          {% endfor %}
          </ul>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  </div>
</div>
